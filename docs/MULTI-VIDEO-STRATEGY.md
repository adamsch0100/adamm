# Multi-Video Generation Strategy Guide

## Why 10 Unique Videos?

Posting the **same video to 10 TikTok accounts is dangerous**:

- ‚ùå TikTok detects identical video hashes
- ‚ùå Flags as coordinated inauthentic behavior
- ‚ùå Can shadowban all accounts simultaneously
- ‚ùå Violates platform manipulation policies

**Solution**: Generate unique content for each account!

## Three Strategies Available

### Strategy 1: Unique Videos (RECOMMENDED)

**What it does:**
- Generates 10 completely different videos per topic
- Each uses unique visual approach (spinning coin, chart animation, mining rig, etc.)
- Same crypto topic, different creative execution

**Pros:**
- ‚úÖ Safest option - lowest detection risk
- ‚úÖ Each account has genuinely unique content
- ‚úÖ Best for long-term account health
- ‚úÖ Maximum engagement diversity

**Cons:**
- ‚è±Ô∏è Takes longer (~20-50 minutes for 10 videos)
- üí∞ Higher API costs (10x Sora 2 calls)
- üìä Estimated cost: ~$1.00 per campaign

**When to use:**
- Production/long-term automation
- When account safety is priority #1
- When you have budget for quality

**Configuration:**
```env
VIDEO_STRATEGY=unique
```

### Strategy 2: Sora 2 Remix (BALANCED)

**What it does:**
- Generates 1 master video with Sora 2
- Creates 9 variations using Sora 2 Remix API
- Variations: different colors, lighting, camera angles, effects

**Pros:**
- ‚úÖ Good safety - videos are visually different
- ‚úÖ Lower cost than 10 unique videos
- ‚úÖ Faster generation time
- ‚úÖ Still passes TikTok's duplicate detection

**Cons:**
- ‚ö†Ô∏è Same base composition (structure preserved)
- üí∞ Moderate cost (1 full + 9 remix calls)
- üìä Estimated cost: ~$0.55 per campaign

**When to use:**
- Testing phase before full production
- Budget-conscious automation
- When you need speed + safety balance

**Configuration:**
```env
VIDEO_STRATEGY=remix
```

### Strategy 3: FFmpeg Variations (NOT RECOMMENDED)

**What it does:**
- Generates 1 video with Sora 2
- Creates 9 variations using FFmpeg processing
- Variations: color grading, speed (0.9x-1.1x), crops, flips

**Pros:**
- ‚úÖ Lowest cost (only 1 Sora 2 call)
- ‚úÖ Very fast processing
- üìä Estimated cost: ~$0.10 per campaign

**Cons:**
- ‚ùå Higher detection risk
- ‚ùå Video hashes may still match
- ‚ùå TikTok can detect programmatic variations
- ‚ùå **Not currently implemented**

**When to use:**
- Only for testing/development
- Not recommended for production

## CTA (Call-to-Action) Options

Your CTA "Visit minehedge.com" can appear in 3 ways:

### Option A: Video Overlay

**How it works:**
- Text "Visit minehedge.com" burned into video
- Appears in last 2 seconds
- Generated by Sora 2 as part of the video

**Pros:**
- ‚úÖ Maximum visibility - can't be missed
- ‚úÖ Professional end card look
- ‚úÖ No manual work needed

**Cons:**
- ‚ùå Permanent - can't change later
- ‚ùå May look too "salesy" for some viewers

**Configuration:**
```env
CTA_MODE=video_overlay
```

### Option B: Caption Only

**How it works:**
- Clean video with no text overlays
- CTA appears in caption: "Visit minehedge.com for mining tips!"
- Link also in profile bio

**Pros:**
- ‚úÖ Cleaner, more organic look
- ‚úÖ Flexible - can change caption anytime
- ‚úÖ Less "advertising" feel
- ‚úÖ Profile bio link is clickable

**Cons:**
- ‚ö†Ô∏è Lower visibility - users must read caption
- ‚ö†Ô∏è Bio only allows 1 link

**Configuration:**
```env
CTA_MODE=caption_only
```

### Option C: Both (Automatic Mix)

**How it works:**
- System automatically distributes:
  - ~50% videos with text overlay
  - ~50% videos with caption-only
- Best of both worlds

**Pros:**
- ‚úÖ Varied presentation across accounts
- ‚úÖ Tests which performs better
- ‚úÖ More natural (accounts don't look identical)

**Cons:**
- ‚ö†Ô∏è Less control over specific videos

**Configuration:**
```env
CTA_MODE=both
```

## Caption Variations

To avoid detection, captions are also varied:

**How it works:**
1. GPT-4 generates 1 base caption
2. Creates 9 unique variations
3. All include "Visit minehedge.com" CTA
4. Each has different wording, same message

**Example:**

**Base:**
> "Bitcoin just broke $50k! üöÄ Visit minehedge.com for mining tips! #Bitcoin #Crypto #Mining #MineHedge #BTC"

**Variation 1:**
> "BTC hits $50,000! This is huge üí∞ Check minehedge.com for expert mining advice! #Crypto #Bitcoin #MineHedge #Mining #Investing"

**Variation 2:**
> "Bitcoin surges past $50k milestone! Learn mining strategies at minehedge.com üî• #BTC #CryptoMining #Bitcoin #MineHedge #Blockchain"

Each account gets unique caption + unique video = maximum safety!

## Cost Comparison

Based on 2x daily posting (20 videos/day):

| Strategy | Cost/Campaign | Daily Cost | Monthly Cost | Safety Level |
|----------|--------------|------------|--------------|--------------|
| **Unique** | $1.00 | $2.00 | ~$60 | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Highest |
| **Remix** | $0.55 | $1.10 | ~$33 | ‚≠ê‚≠ê‚≠ê‚≠ê High |
| **FFmpeg** | $0.10 | $0.20 | ~$6 | ‚≠ê‚≠ê Medium-Low |

*Costs are estimates based on Sora 2 pricing. Actual costs may vary.*

## How to Switch Strategies

### Quick Toggle

```powershell
# Switch to unique (safest)
.\toggle-strategy.ps1 -Strategy unique

# Switch to remix (balanced)
.\toggle-strategy.ps1 -Strategy remix

# Switch strategy AND CTA mode
.\toggle-strategy.ps1 -Strategy unique -CtaMode video_overlay
```

### Manual Configuration

Edit `.env` file:
```env
VIDEO_STRATEGY=unique  # or: remix, ffmpeg
CTA_MODE=both          # or: video_overlay, caption_only
VIDEOS_PER_TOPIC=10
```

Then restart MCP server:
```powershell
# Stop current server (Ctrl+C)
# Start again
.\start-mcp-server.ps1
```

## API Endpoints

### Generate Complete Campaign

**Recommended approach** - one call does everything:

```javascript
POST /api/content/generate-full-campaign
{
  "cryptoTopic": {
    "name": "Bitcoin",
    "symbol": "BTC",
    "price": 50000,
    "percentChange24h": 5.2
  },
  "strategy": "unique"  // optional, uses .env if not specified
}

Response:
{
  "success": true,
  "strategy": "unique",
  "cryptoTopic": "Bitcoin",
  "script": { "hook": "...", "facts": [...], "cta": "..." },
  "videos": [
    { "videoId": "vid_1", "status": "queued", "style": "spinning_coin", "variation": 1 },
    { "videoId": "vid_2", "status": "queued", "style": "chart_animation", "variation": 2 },
    // ... 8 more
  ],
  "captions": [
    "Base caption here...",
    "Variation 1 caption...",
    // ... 9 more
  ],
  "hashtags": { ... },
  "count": 10
}
```

### Individual Endpoints

For more control:

**1. Generate video prompts:**
```javascript
POST /api/openai/generate-video-variations
{
  "cryptoTopic": { ... },
  "baseScript": { "hook": "...", "facts": [...] },
  "ctaMode": "both"
}
```

**2. Generate captions:**
```javascript
POST /api/openai/generate-caption-variations
{
  "cryptoTopic": { ... },
  "baseScript": { ... }
}
```

**3. Remix video:**
```javascript
POST /api/openai/remix-video
{
  "videoId": "video_abc123",
  "variationCount": 9
}
```

## Cost Monitoring

Track your Sora 2 usage and costs:

```powershell
# Check current costs
curl http://localhost:3000/api/stats/video-costs

Response:
{
  "success": true,
  "stats": {
    "unique_videos": 20,
    "remix_videos": 0,
    "total_videos": 20
  },
  "costs": {
    "unique_video_cost": 0.10,
    "remix_cost": 0.05,
    "total_cost": "2.00",
    "daily_projection": "2.00",
    "currency": "USD"
  },
  "current_strategy": "unique"
}
```

Reset stats:
```powershell
curl -X POST http://localhost:3000/api/stats/reset-video-costs
```

## n8n Workflow Integration

The updated content workflow now:

1. **Fetches trending crypto** (CoinMarketCap)
2. **Generates campaign** (`/api/content/generate-full-campaign`)
   - Returns 10 videos + 10 captions
3. **Polls video status** for all 10 videos
4. **Downloads completed videos**
5. **Loops through devices**:
   - Device 1 gets video[0] + caption[0]
   - Device 2 gets video[1] + caption[1]
   - ... Device 10 gets video[9] + caption[9]
6. **Uploads to VMOS** (one video per device)
7. **Posts to TikTok** (with unique caption)

Each account gets completely unique content!

## Best Practices

### For Maximum Safety

1. ‚úÖ Use `VIDEO_STRATEGY=unique`
2. ‚úÖ Use `CTA_MODE=both` for varied presentation
3. ‚úÖ Let GPT-4 generate all caption variations
4. ‚úÖ Post at different times across accounts (stagger by 5-10 minutes)
5. ‚úÖ Monitor account health regularly

### For Cost Optimization

1. ‚úÖ Start with `VIDEO_STRATEGY=remix` during testing
2. ‚úÖ Switch to `unique` once profitable
3. ‚úÖ Use cost monitoring to track spending
4. ‚úÖ Adjust posting frequency based on ROI

### For Best Performance

1. ‚úÖ A/B test CTA modes (overlay vs caption)
2. ‚úÖ Track which visual styles get most engagement
3. ‚úÖ Adjust Sora prompts based on what works
4. ‚úÖ Monitor TikTok analytics per account

## Troubleshooting

### Videos Look Too Similar (Remix Strategy)

**Problem:** Remix variations aren't different enough  
**Solution:** Switch to `VIDEO_STRATEGY=unique` or customize remix prompts in `mcp-server.js` (lines 986-996)

### Costs Too High

**Problem:** Daily projection shows high costs  
**Solution:** 
- Switch to `VIDEO_STRATEGY=remix` 
- Reduce posting frequency (once daily instead of 2x)
- Use shorter videos (reduce `seconds` from 8 to 5)

### TikTok Still Detects Duplicates

**Problem:** Accounts getting flagged  
**Solution:**
- Verify you're using `unique` strategy
- Check videos are actually different (watch them)
- Ensure captions are varied (check API response)
- Stagger posting times (don't post all at once)

### CTA Not Appearing

**Problem:** "Visit minehedge.com" not visible  
**Solution:**
- Check `CTA_MODE` setting in `.env`
- If `video_overlay`: text should be in video (check Sora prompt)
- If `caption_only`: check caption includes CTA
- Verify GPT-4 is including CTA in prompts

## Quick Reference

**Toggle to unique strategy:**
```powershell
.\toggle-strategy.ps1 -Strategy unique
```

**Check costs:**
```powershell
curl http://localhost:3000/api/stats/video-costs | jq
```

**Generate campaign:**
```powershell
curl -X POST http://localhost:3000/api/content/generate-full-campaign \
  -H "Content-Type: application/json" \
  -d '{"cryptoTopic": {"name":"Bitcoin","symbol":"BTC","price":50000,"percentChange24h":5.2}}'
```

**Current config:**
```powershell
# View current settings
cat .env | Select-String "VIDEO_STRATEGY|CTA_MODE"
```

---

**Your automation is now TikTok-safe with unique content per account!** üéâ

